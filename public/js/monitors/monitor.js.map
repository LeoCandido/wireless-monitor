{"version":3,"sources":["monitor.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"monitor.js","sourcesContent":["\r\ndefine(['jquery'], function ($) {\r\n    $('a[data-toggle=\"tab\"]').on('shown.bs.tab', function (e) {\r\n        var target = this.href.split('#');\r\n        $('.nav a').filter('[href=\"#'+target[1]+'\"]').tab('show');\r\n    });\r\n\r\n    return {\r\n        /**\r\n         * Fetch the monitor, based on the id.\r\n         * @param  {integer|string} id   the monitor id\r\n         * @param  {string} template mustache template\r\n         * @param  {function} onSuccess  function that are called when the fetch is successful\r\n         * @param  {function} onComplete function that are called when the fetch is completed\r\n         * @return {undefined}\r\n         */\r\n        fetch: function (id, onComplete) {\r\n            return $.ajax({\r\n                url: '/monitor/ajax-get',\r\n                data: {\r\n                    id: id\r\n                },\r\n                error: function (jqXHR, textStatus, errorThrown) {\r\n                    console.log(textStatus, errorThrown);\r\n                },\r\n                complete: function () {\r\n                    onComplete();\r\n                }\r\n            });\r\n        },\r\n        /**\r\n         * Render the monitor based on the template\r\n         * @param  {string} template mustache template\r\n         * @param  {object} monitor  monitor that comes from fetch\r\n         * @return {string}\r\n         */\r\n        render: function (template, monitor) {\r\n            return Mustache.render(template, monitor);\r\n        },\r\n        measures: function (id, limit, order, onComplete) {\r\n            return $.ajax({\r\n                url: '/monitor/ajax-get-measures',\r\n                data: {\r\n                    id: id,\r\n                    limit: limit,\r\n                    order: order\r\n                },\r\n                error: function (jqXHR, textStatus, errorThrown) {\r\n                    console.log(textStatus, errorThrown);\r\n                },\r\n                complete: function () {\r\n                    if (onComplete) {\r\n                        onComplete();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    };\r\n});\r\n"]}